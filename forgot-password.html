<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Forgot Password — BiTForeX</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<header class="navbar">
  <div class="brand">
    <div class="logo-circle"><img src="logo.jpg" alt="logo"></div>
    <a class="logo-text" href="index.html">BiTForeX Academy</a>
  </div>

  <nav class="nav" id="main-nav">
    <a href="index.html">Home</a>
    <a href="login.html">Login</a>
  </nav>

  <div class="menu-toggle" id="menu-toggle">☰</div>
</header>

<main class="auth-container">
  <h2 style="margin-bottom:12px">Forgot Password</h2>

  <form id="forgotForm">
    <input type="email" id="forgotEmail" placeholder="Enter your registered email" required />
    <button class="btn primary" style="width:100%;margin-top:12px">Lookup</button>
  </form>

  <p style="margin-top:12px;text-align:center" id="forgotResult"></p>
</main>

<script src="script.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const form = document.getElementById('forgotForm');
  const out = document.getElementById('forgotResult');

  form.addEventListener('submit', (e) => {
    e.preventDefault();
    const email = document.getElementById('forgotEmail').value.trim().toLowerCase();
    const admin = JSON.parse(localStorage.getItem('adminAccount') || '{}');

    // check admin account
    if (admin && admin.email && admin.email.toLowerCase() === email) {
      out.innerHTML = '<span class="muted">Admin account detected. Use your admin credentials.</span>';
      return;
    }

    const users = JSON.parse(localStorage.getItem('users') || '[]');
    const user = users.find(u => u.email.toLowerCase() === email);

    if (!user) {
      out.innerHTML = '<span class="muted">No account found for that email.</span>';
      return;
    }

    // DEMO: show a non-sensitive hint and allow temporary "reveal" of password
    out.innerHTML = `<div class="muted">Account found for <strong>${user.name || user.email}</strong>.</div>
      <div style="margin-top:10px">
        <button id="revealBtn" class="btn small">Show password (demo)</button>
      </div>`;

    document.getElementById('revealBtn').addEventListener('click', () => {
      alert('Demo: password for ' + user.email + ' is: ' + user.password);
    });
  });
});
</script>
</body>
</html>